import{c as w,r as n,j as e,C as d,S as P,a as T,A as R}from"./app.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=w("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=w("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),L=()=>{const[o,r]=n.useState(1),[x,p]=n.useState(null),[t,y]=n.useState([]),[a,g]=n.useState({name:"",email:""}),[m,i]=n.useState("idle"),k={service:900,ecommerce:1800},C={seo:400,writing:300,booking:600,erp:1200},h=s=>{y(l=>l.includes(s)?l.filter(u=>u!==s):[...l,s])},j=()=>{let s=0;return x&&(s+=k[x]),t.forEach(l=>s+=C[l]||0),{min:s,max:s*1.3}},S=async s=>{var N,f;s.preventDefault(),i("submitting");const l=j(),u={name:a.name,email:a.email,budget_data:{type:x==="service"?"Web de Servicios":"Tienda Online",features:t,estimated_range:l}};try{const b=((N=window.empcData)==null?void 0:N.restUrl)+"empc/v1/budget",E=(f=window.empcData)==null?void 0:f.nonce;(await fetch(b,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":E},body:JSON.stringify(u)})).ok?i("success"):i("error")}catch(b){console.error(b),i("error")}},c=j();return m==="success"?e.jsxs("div",{className:"bg-emerald-900/50 p-8 rounded-xl border border-emerald-500/30 text-center animate-fade-in",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(d,{className:"w-8 h-8 text-emerald-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"¡Cálculo Enviado!"}),e.jsxs("p",{className:"text-emerald-200 mb-6",children:["te hemos enviado el presupuesto detallado a ",e.jsx("strong",{children:a.email}),"."]}),e.jsxs("div",{className:"text-white bg-slate-800 p-4 rounded-lg inline-block",children:[e.jsx("span",{className:"text-slate-400 text-sm block",children:"Tu rango estimado"}),e.jsxs("span",{className:"text-3xl font-bold text-emerald-400",children:[c.min,"€ - ",c.max.toFixed(0),"€"]})]})]}):e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md rounded-xl p-6 md:p-8 border border-slate-700 shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"flex gap-2 mb-8",children:[1,2,3].map(s=>e.jsx("div",{className:`h-1 flex-1 rounded-full transition-all ${o>=s?"bg-rose-500":"bg-slate-700"}`},s))}),o===1&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("h3",{className:"text-xl font-bold text-white text-center",children:"¿Qué necesitas crear?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>{p("service"),r(2)},className:"p-6 rounded-xl border border-slate-700 bg-slate-800/50 hover:border-rose-500 hover:bg-slate-800 transition-all text-left group",children:[e.jsx("div",{className:"bg-rose-500/10 w-12 h-12 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e.jsx(v,{className:"text-rose-500"})}),e.jsx("h4",{className:"font-bold text-white mb-1",children:"Web de Servicios"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Para clínicas, abogados, reformas... Muestra lo que haces."})]}),e.jsxs("button",{onClick:()=>{p("ecommerce"),r(2)},className:"p-6 rounded-xl border border-slate-700 bg-slate-800/50 hover:border-indigo-500 hover:bg-slate-800 transition-all text-left group",children:[e.jsx("div",{className:"bg-indigo-500/10 w-12 h-12 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e.jsx(A,{className:"text-indigo-500"})}),e.jsx("h4",{className:"font-bold text-white mb-1",children:"Tienda / Catálogo"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Venta online o catálogo de productos B2B."})]})]})]}),o===2&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("h3",{className:"text-xl font-bold text-white text-center",children:"¿Qué funcionalidades clave necesitas?"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("label",{className:`flex items-center p-4 rounded-lg border cursor-pointer transition-all ${t.includes("seo")?"border-rose-500 bg-rose-500/10":"border-slate-700 hover:bg-slate-800"}`,children:[e.jsx("input",{type:"checkbox",className:"hidden",checked:t.includes("seo"),onChange:()=>h("seo")}),e.jsx("div",{className:"mr-3",children:e.jsx(P,{className:"text-rose-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-white font-medium block",children:"SEO Local Pack"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Posicionamiento en Google para tu ciudad."})]}),t.includes("seo")&&e.jsx(d,{className:"text-rose-500"})]}),e.jsxs("label",{className:`flex items-center p-4 rounded-lg border cursor-pointer transition-all ${t.includes("writing")?"border-orange-500 bg-orange-500/10":"border-slate-700 hover:bg-slate-800"}`,children:[e.jsx("input",{type:"checkbox",className:"hidden",checked:t.includes("writing"),onChange:()=>h("writing")}),e.jsx("div",{className:"mr-3",children:e.jsx(v,{className:"text-orange-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-white font-medium block",children:"Redacción Profesional"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Textos persuasivos (Copywriting)."})]}),t.includes("writing")&&e.jsx(d,{className:"text-orange-500"})]}),e.jsxs("label",{className:`flex items-center p-4 rounded-lg border cursor-pointer transition-all ${t.includes("booking")?"border-blue-500 bg-blue-500/10":"border-slate-700 hover:bg-slate-800"}`,children:[e.jsx("input",{type:"checkbox",className:"hidden",checked:t.includes("booking"),onChange:()=>h("booking")}),e.jsx("div",{className:"mr-3",children:e.jsx(T,{className:"text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-white font-medium block",children:"Reservas / Cita Previa"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Calendario sincronizado y pagos."})]}),t.includes("booking")&&e.jsx(d,{className:"text-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{onClick:()=>r(1),className:"text-slate-400 hover:text-white transition-colors",children:"Atrás"}),e.jsxs("button",{onClick:()=>r(3),className:"bg-white text-slate-900 px-6 py-2 rounded-lg font-bold hover:bg-slate-200 transition-colors",children:["Ver Resultado ",e.jsx(R,{className:"inline w-4 h-4 ml-1"})]})]})]}),o===3&&e.jsxs("div",{className:"text-center animate-fade-in space-y-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Estimación preliminar"}),e.jsxs("div",{className:"text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-rose-400 to-orange-400 my-2",children:[c.min,"€ - ",c.max.toFixed(0),"€"]}),e.jsx("p",{className:"text-slate-400 text-sm max-w-xs mx-auto",children:"Incluye diseño, desarrollo y optimización. El precio final depende de los detalles."})]}),e.jsxs("form",{onSubmit:S,className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700 text-left",children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"¿Te cuadra? Recibe el desglose por email"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Tu Nombre"}),e.jsx("input",{type:"text",required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white focus:border-rose-500 focus:outline-none",placeholder:"Ej: Ana García",value:a.name,onChange:s=>g({...a,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Email Profesional"}),e.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white focus:border-rose-500 focus:outline-none",placeholder:"ana@tuempresa.com",value:a.email,onChange:s=>g({...a,email:s.target.value})})]}),e.jsx("button",{type:"submit",disabled:m==="submitting",className:"w-full bg-rose-600 hover:bg-rose-500 text-white font-bold py-3 rounded-lg transition-all disabled:opacity-50",children:m==="submitting"?"Enviando...":"Enviar Presupuesto PDF"})]})]}),e.jsx("button",{onClick:()=>r(2),className:"text-slate-500 hover:text-white text-sm",children:"Volver a editar"})]})]})};export{L as default};
